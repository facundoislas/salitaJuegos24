
<a routerLink="/home" class="volver-btn" onclick="history.back()">Volver</a>
<div class="chat-root">
    <div class="chat-container">
        <div class="chat-header">
            Chat de la Sala de Juegos
        </div>

        <div class="message-area" #messageArea>
            <ng-container *ngFor="let msj of mensajes">
                <div [ngClass]="{ 'message-bubble': true, 'sent': esMio(msj), 'received': !esMio(msj) }">
                    <div *ngIf="esMio(msj)" class="sender-name">Yo</div>
                    <div *ngIf="!esMio(msj)" class="sender-name">{{ mostrarNombre(msj.usuario) }}</div>
                    <div>{{ msj.mensaje }}</div>
                    <div class="message-info">{{ (+msj.hora) | date: 'dd/MM/yyyy - HH:mm' }}</div>
                </div>
            </ng-container>
        </div>

        <div class="input-area">
            <input
                type="text"
                placeholder="Escribe un mensaje..."
                [(ngModel)]="mensaje.texto"
                (keydown.enter)="guardarMensaje()"
                aria-label="Escribe un mensaje"
            />
            <button (click)="guardarMensaje()" [disabled]="!mensaje.texto || !mensaje.texto.trim()">
                Enviar
            </button>
        </div>
    </div>
</div>